<h3>Натпреварување</h3>

<div class="table-responsive">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>kolo_id</th>
                <th>
                    <input type="text" name="searchByDatum" id="searchByDatum" ng-model="searchByDatum" placeholder="Пребарај по датум на натпреварот">
                </th>
                <th>
                    <input type="text" name="searchByProtivnik" id="searchByProtivnik" ng-model="searchByProtivnik" placeholder="Пребарај по противник на натпреварот">
                </th>
                <th>
                    <input type="text" name="searchByRezultat" id="searchByRezultat" ng-model="searchByRezultat" placeholder="Пребарај по резултат на натпреварот">
                </th>
                <th>
                    <input type="text" name="searchByMesto" id="searchByMesto" ng-model="searchByMesto" placeholder="Пребарај по место на натпреварот">
                </th>
                <th>
                    <select class="form-control" id="searchBySostavId" name="searchBySostavId" ng-model="searchBySostavId">
                        <option value="">Изберете опции</option>
                        <option ng-repeat="sostavi in sostav" value="{{sostavi.sostav_id}}" >
                            {{sostavi.sostav_id}} kolo || {{sostavi.datum_sostav}}
                        </option>
                    </select>
                </th>
                <th>
                    <select class="form-control" id="searchByStadionId" name="searchByStadionId" ng-model="searchByStadionId">
                        <option  value="">Изберете опции</option>
                        <option ng-repeat="stadioni in stadion" value="{{stadioni.stadion_id}}" >
                            {{stadioni.ime}} || {{stadioni.adresa}} ||  {{stadioni.kapacitet}}  kapacitet
                        </option>
                    </select>
                </th>
                <th>
                    <select class="form-control" id="searchByDatumId" name="searchByDatumId" ng-model="searchByDatumId">
                        <option value="">Изберете опции</option>
                        <option ng-repeat="publiki in publika" value="{{publiki.datum_id}}" >
                            {{publiki.datum_id}} ||  {{publiki.datum_id}} home audience || {{publiki.gostinska}} away audience
                        </option>
                    </select>
                </th>
                <th><i class="fa-solid fa-pen"></i>edit</th>
                <th><i class="fa-solid fa-trash-can"></i>delete</th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="natprevar in natprevaruvanje | filter:{datum:searchByDatum,protivnik:searchByProtivnik,rezultat:searchByRezultat,mesto:searchByMesto,sostav_id:searchBySostavId,stadion_id:searchByStadionId,datum_id:searchByDatumId}">
                <td>{{natprevar.kolo_id}}</td>
                <td>{{natprevar.datum}}</td>
                <td>{{natprevar.protivnik}}</td>
                <td>{{natprevar.rezultat}}</td>
                <td>{{natprevar.mesto}}</td>
                <td>
                    {{natprevar.sostav_id}} 
                    <button type="button" class="btn myBtn" data-bs-toggle="modal" data-bs-target="#myModalSostav" ng-click="passPosition($index)"> <i class="fa-solid fa-shirt"></i></button>
                </td>
                <td>{{natprevar.ime}}</td>
                <td>{{natprevar.domashna}} home audience || {{natprevar.gostinska}} away audience</td>
                <td title="Edit"><i class="fa-solid fa-pen"></i></td>
                <td title="Delete {{natprevar.kolo_id}} || {{natprevar.datum}} || {{natprevar.protivnik}}">
                    <button type="button" class="btn myBtn" data-bs-toggle="modal" data-bs-target="#myModal" ng-click="passPosition($index)"> <i class="fa-solid fa-trash-can"></i></button>
                </td>
            </tr>
        </tbody>

    </table>
</div>


<!-- The Modal Delete-->
<div class="modal" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header myBtn">
          <h4 class="modal-title">Внимание!!!</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
  
        <!-- Modal body -->
        <div class="modal-body myBtn">
            Дали сте сигурни дека сакате да го избришите натпреварот против {{natprevaruvanje[getIndex].protivnik}} на {{natprevaruvanje[getIndex].datum}}???
        </div>
  
        <!-- Modal footer -->
        <div class="modal-footer bg-light">
          <button type="button" class="btn myBtn" data-bs-dismiss="modal" ng-click="deleteRow('natprevaruvanje',natprevaruvanje[getIndex].kolo_id)">Да</button>
          <button type="button" class="btn myBtn" data-bs-dismiss="modal">Не</button> 
        </div>
  
      </div>
    </div>
  </div>

  <!-- The Modal Sostav ID-->
<div class="modal" id="myModalSostav">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header myBtn">
          <h4 class="modal-title text-center">Составот против екипата на {{natprevaruvanje[getIndex].protivnik}} на {{natprevaruvanje[getIndex].datum}}!!!</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <hr>
  
        <!-- Modal body -->
        <div class="modal-body myBtn">
            <div class="text-start"> Coach: {{sostav[getIndex].coach}}</div>
                <hr>
            <div class="text-center"> Goalkeeper: <br> {{sostav[getIndex].goalkeeper}}</div>
                <hr>
            <div class="row">
                <div class="col-sm-3 text-center">
                    Right Back: <br> {{sostav[getIndex].right_back}}
                </div>
                <div class="col-sm-3 text-center">
                    Center Back: <br> {{sostav[getIndex].centre_back1}}
                </div>
                <div class="col-sm-3 text-center">
                    Center Back: <br> {{sostav[getIndex].centre_back2}}
                </div>
                <div class="col-sm-3 text-center">
                    Left Back: <br> {{sostav[getIndex].left_back}}
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-sm-12 text-center">
                    Defensive Midfielder Back: <br> {{sostav[getIndex].defensive_midfielder}}
                </div>
                <br>
                <div class="col-sm-6 text-center">
                    Center Midfielder: <br> {{sostav[getIndex].center_midfielder}}
                </div>
                <div class="col-sm-6 text-center">
                    Attacking Midfielder: <br> {{sostav[getIndex].attacking_midfielder}}    <i class="fa-solid fa-c"></i>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-sm-6 text-center">
                    Right Forward Back: <br> {{sostav[getIndex].right_forward}}
                </div>
                <div class="col-sm-6 text-center">
                    Left Forward: <br> {{sostav[getIndex].left_forward}}
                </div>
                <br>
                <div class="col-sm-12 text-center">
                    Center Forward: <br> {{sostav[getIndex].center_forward}}
                </div>
            </div>
        </div>
        <hr>
        <div class="modal-body text-start myBtn fs-1">
            <div class="row">
                <div class="col-sm-12">
                    Reserve 1: {{sostav[getIndex].reserve1}}
                </div>
                <hr>
                <div class="col-sm-12">
                    Reserve 2: {{sostav[getIndex].reserve2}}
                </div>
                <hr>
                <div class="col-sm-12">
                    Reserve 3: {{sostav[getIndex].reserve3}}
                </div>
                <hr>
                <div class="col-sm-12">
                    Reserve 4: {{sostav[getIndex].reserve4}}
                </div>
                <hr>
                <div class="col-sm-12">
                    Reserve1 5: {{sostav[getIndex].reserve5}}
                </div>
                <hr>
                <div class="col-sm-12">
                    Reserve1 6: {{sostav[getIndex].reserve6}}
                </div>
                <hr>
                <div class="col-sm-12">
                    Reserve 7: {{sostav[getIndex].reserve7}}
                </div>
            </div>
        </div>
        
  
        <!-- Modal footer -->
        <div class="modal-footer bg-light">
          <button type="button" class="btn myBtn" data-bs-dismiss="modal">Назад</button> 
        </div>
  
      </div>
    </div>
  </div>